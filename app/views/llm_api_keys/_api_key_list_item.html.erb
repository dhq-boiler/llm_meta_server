<%
  api_key = locals[:api_key]
  index = locals[:index]
%>

<div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg border">
  <div class="flex-1">
    <div class="flex items-center space-x-3 mb-2">
      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-black text-white">
        <%= api_key.llm_type.capitalize.gsub("Openai", "OpenAI") %>
      </span>
      <% if api_key.description.present? %>
        <span class="text-sm text-gray-600"><%= api_key.description %></span>
      <% end %>
    </div>
    <div class="space-y-1">
      <span class="text-sm font-medium text-gray-700">Created:</span>
      <span class="text-sm text-gray-600"><%= api_key.created_at.strftime("%Y/%m/%d %H:%M") %></span>
      <% if api_key.created_at < api_key.updated_at %>
        <span class="text-sm font-medium text-gray-700 ml-2">Updated:</span>
        <span class="text-sm text-gray-600"><%= api_key.updated_at.strftime("%Y/%m/%d %H:%M") %></span>
      <% end %>
    </div>
  </div>
  <div class="flex flex-col space-y-2 ml-4">
    <button type="button" class="text-sm bg-yellow-100 text-yellow-700 px-3 py-1 rounded-md hover:bg-yellow-200 transition-colors"
            popovertarget="updateModal-<%= index %>">
      Update
    </button>
    <%= link_to "Delete", user_llm_api_key_path(current_user, api_key),
                          class: "text-sm bg-red-100 text-red-700 px-3 py-1 rounded-md hover:bg-red-200 transition-colors text-center",
                          data: {
                            turbo_method: :delete,
                            turbo_confirm: "Are you sure you want to delete this API key?"
                          } %>
  </div>
</div>